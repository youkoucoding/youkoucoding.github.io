<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="frontend 每日一练"><title>毎日のフロントエンド 194</title><link rel=canonical href=https://youkoucoding.github.io/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="毎日のフロントエンド 194"><meta property="og:description" content="frontend 每日一练"><meta property="og:url" content="https://youkoucoding.github.io/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/"><meta property="og:site_name" content="技術の手帳"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2022-04-01T21:20:27+09:00"><meta property="article:modified_time" content="2022-04-01T21:20:27+09:00"><meta name=twitter:title content="毎日のフロントエンド 194"><meta name=twitter:description content="frontend 每日一练"><link rel="shortcut icon" href=/img/site-icon.png></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=https://youkoucoding.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>返回</span></a></div><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/tips/>Tips</a></header><h2 class=article-title><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/>毎日のフロントエンド 194</a></h2><h3 class=article-subtitle>frontend 每日一练</h3><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Apr 01, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 2 分钟</time></div></footer></div></header><section class=article-content><h2 id=npm>npm</h2><h3 id=npm-内部机制和核心原理>npm 内部机制和核心原理</h3><blockquote><p>Bring the best of open source to you, your team and your company.</p></blockquote><h4 id=npm-的安装机制>npm 的安装机制</h4><ul><li>Ruby 的 Gem、Python 的 pip 都是全局安装，但是 npm 的安装机制秉承了不同的设计哲学：</li></ul><p><figure class=gallery-image style=flex-grow:200;flex-basis:480px><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-process.png data-size=1240x620><img src=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-process.png width=1240 height=620 srcset="/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-process_hu71e7aa4e48b9064f66ce3a147ffed360_157335_480x0_resize_box_3.png 480w, /p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-process_hu71e7aa4e48b9064f66ce3a147ffed360_157335_1024x0_resize_box_3.png 1024w" loading=lazy alt=npm安装流程图></a><figcaption>npm安装流程图</figcaption></figure></p><ul><li><code>npm install</code> 执行之后，首先，检查并获取 npm 配置，这里的优先级为：<ul><li>项目级的 .npmrc 文件 > 用户级的 .npmrc 文件> 全局级的 .npmrc 文件 > npm 内置的 .npmrc 文件</li></ul></li><li>然后检查项目中是否有 <code>package-lock.json</code> 文件</li><li>如果有，则检查 <code>package-lock.json</code> 和 <code>package.json</code> 中声明的依赖是否一致：<ul><li>一致，直接使用 package-lock.json 中的信息，从缓存或网络资源中加载依赖；</li><li>不一致，按照 npm 版本进行处理（不同 npm 版本处理会有不同，具体处理方式如图所示）</li></ul></li><li>如果没有，则根据 package.json 递归构建依赖树。然后按照构建好的依赖树下载完整的依赖资源，在下载时就会检查是否存在相关资源缓存：<ul><li>存在，则将缓存内容解压到 node_modules 中；</li><li>否则就先从 npm 远程仓库下载包，校验包的完整性，并添加到缓存，同时解压到 node_modules</li></ul></li><li>最后生成 package-lock.json</li></ul><hr><ul><li>构建依赖树时，当前依赖项目不管其是直接依赖还是子依赖的依赖，都应该按照扁平化原则，优先将其放置在 node_modules 根目录（最新版本 npm 规范）<ul><li>在这个过程中，遇到相同模块就判断已放置在依赖树中的模块版本是否符合新模块的版本范围，如果符合则跳过；</li><li>不符合则在当前模块的 node_modules 下放置该模块（最新版本 npm 规范）。</li></ul></li><li><strong>同一个项目团队，应该保证 npm 版本的一致</strong></li></ul><h4 id=npm-缓存机制>npm 缓存机制</h4><p><code>npm config get cache</code></p><ul><li><p>当 npm install 执行时，通过<a class=link href=https://www.npmjs.com/package/pacote target=_blank rel=noopener>pacote</a>把相应的包解压在对应的 node_modules 下面</p></li><li><p>npm 在下载依赖时，先下载到缓存当中，再解压到项目 node_modules 下</p></li><li><p>pacote 依赖 <a class=link href=https://github.com/npm/npm-registry-fetch#npm-registry-fetch target=_blank rel=noopener>npm-registry-fetch</a>来下载包，npm-registry-fetch 可以通过设置 cache 属性，在给定的路径下根据 <a class=link href=https://datatracker.ietf.org/doc/rfc7234/ target=_blank rel=noopener>IETF RFC 7234</a> 生成缓存数据。</p></li><li><p>在每次安装资源时，根据 package-lock.json 中存储的 integrity、version、name 信息生成一个唯一的 key，这个 key 能够对应到 index-v5 目录下的缓存记录。如果发现有缓存资源，就会找到 tar 包的 hash，根据 hash 再去找缓存的 tar 包，并再次通过 pacote 把对应的二进制文件解压到相应的项目 node_modules 下面，省去了网络下载资源的开销</p></li></ul><blockquote><p>这里提到的缓存策略是从 npm <code>v5</code> 版本开始的</p></blockquote><hr><h4 id=常用技巧>常用技巧</h4><h5 id=1-自定义-npm-init>1. 自定义 <code>npm init</code></h5><ul><li>npm init 命令就是调用 shell 脚本输出一个初始化的 package.json 文件<ul><li>为了实现更加灵活的自定义功能，可以使用 <code>prompt()</code> 方法，获取用户输入并动态产生的内容：</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>desc</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s1>&#39;请输入项目描述&#39;</span><span class=p>,</span> <span class=s1>&#39;项目描述...&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>key</span><span class=o>:</span> <span class=s1>&#39;value&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=nx>prompt</span><span class=p>(</span><span class=s1>&#39;name?&#39;</span><span class=p>,</span> <span class=nx>process</span><span class=p>.</span><span class=nx>cwd</span><span class=p>().</span><span class=nx>split</span><span class=p>(</span><span class=s1>&#39;/&#39;</span><span class=p>).</span><span class=nx>pop</span><span class=p>()),</span>
</span></span><span class=line><span class=cl>  <span class=nx>version</span><span class=o>:</span> <span class=nx>prompt</span><span class=p>(</span><span class=s1>&#39;version?&#39;</span><span class=p>,</span> <span class=s1>&#39;0.0.1&#39;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>  <span class=nx>description</span><span class=o>:</span> <span class=nx>desc</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>main</span><span class=o>:</span> <span class=s1>&#39;index.js&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>repository</span><span class=o>:</span> <span class=nx>prompt</span><span class=p>(</span><span class=s1>&#39;github repository url&#39;</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>url</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nx>run</span><span class=p>(</span><span class=s1>&#39;touch README.md&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>run</span><span class=p>(</span><span class=s1>&#39;git init&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>run</span><span class=p>(</span><span class=s1>&#39;git add README.md&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>run</span><span class=p>(</span><span class=s1>&#39;git commit -m &#34;first commit&#34;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>run</span><span class=p>(</span><span class=sb>`git remote add origin </span><span class=si>${</span><span class=nx>url</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=nx>run</span><span class=p>(</span><span class=s1>&#39;git push -u origin master&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>url</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}),</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><ul><li>假设该脚本名为 <code>.npm-init.js</code>，执行下述命令来确保 npm init 所对应的脚本指向正确的文件：<ul><li><code>npm config set init-module ~\.npm-init.js</code></li></ul></li></ul><h5 id=2-npm-config>2. <code>npm config</code></h5><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>npm</span> <span class=nx>config</span> <span class=nx>set</span> <span class=nx>init</span><span class=p>.</span><span class=nx>author</span><span class=p>.</span><span class=nx>name</span> <span class=s2>&#34;Lucas&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>npm</span> <span class=nx>config</span> <span class=nx>set</span> <span class=nx>init</span><span class=p>.</span><span class=nx>author</span><span class=p>.</span><span class=nx>email</span> <span class=s2>&#34;lucasXXXXXX@gmail.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>npm</span> <span class=nx>config</span> <span class=nx>set</span> <span class=nx>init</span><span class=p>.</span><span class=nx>author</span><span class=p>.</span><span class=nx>url</span> <span class=s2>&#34;lucasXXXXX.com&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>npm</span> <span class=nx>config</span> <span class=nx>set</span> <span class=nx>init</span><span class=p>.</span><span class=nx>license</span> <span class=s2>&#34;MIT&#34;</span>
</span></span></code></pre></div><h5 id=3-npm-link>3. <code>npm link</code></h5><blockquote><p>高效率在本地调试以验证包的可用性
使用<code>npm link</code>可以将模块链接到对应的业务项目中运行。</p></blockquote><ul><li>npm link 能够在工程上解决依赖包在任何一个真实项目中进行调试的问题，并且操作起来更加方便快捷</li></ul><h4 id=npx-的作用>npx 的作用</h4><blockquote><p>npx 由 npm v5.2 版本引入，解决了 npm 的一些使用快速开发、调试，以及项目内使用全局模块</p></blockquote><ul><li><code>npx</code>可以直接执行 <code>node_modules/.bin</code> 文件夹下的文件。在运行命令时，npx 可以自动去 node_modules/.bin 路径和环境变量 $PATH 里面检查命令是否存在，而不需要再在 package.json 中定义相关的 script</li><li>npx 另一个更实用的好处是：<strong>npx 执行模块时会优先安装依赖，但是在安装执行后便删除此依赖，这就避免了全局安装模块带来的问题。</strong></li><li>npx 会将 create-react-app 下载到一个临时目录，使用以后再删除：<code>npx create-react-app own-project</code></li></ul><h3 id=npm-多源镜像和企业级部署私服原理>npm 多源镜像和企业级部署私服原理</h3><ul><li><p>npm 中的源（registry），是一个查询服务</p></li><li><p>以 npmjs.org 为例，它的查询服务网址是 <a class=link href=https://registry.npmjs.org/ target=_blank rel=noopener><code>https://registry.npmjs.org/</code></a>。这个网址后跟上模块名，就会得到一个 JSON 对象，里面是该模块所有版本的信息。 <a class=link href=https://registry.npmjs.org/react target=_blank rel=noopener>react 模块所有版本的信息</a></p></li><li><p>可以通过 <code>npm config set</code> 命令来设置安装源或者某个 scope 对应的安装源</p></li><li><p>需要使用多个安装源的项目时, 就可以通过 <code>npm-preinstall</code> 的钩子，通过 npm 脚本，在安装公共依赖前自动进行源切换：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;preinstall&#34;</span><span class=p>:</span> <span class=s2>&#34;node ./bin/preinstall.js&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//  preinstall.js 脚本内容，具体逻辑为通过 node.js 执行npm config set命令
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>require</span><span class=p>(</span><span class=s1>&#39; child_process&#39;</span><span class=p>).</span><span class=nx>exec</span><span class=p>(</span><span class=s1>&#39;npm config get registry&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>error</span><span class=p>,</span> <span class=nx>stdout</span><span class=p>,</span> <span class=nx>stderr</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>stdout</span><span class=p>.</span><span class=nx>toString</span><span class=p>().</span><span class=nx>match</span><span class=p>(</span><span class=sr>/registry\.x\.com/</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>exec</span><span class=p>(</span><span class=s1>&#39;npm config set @xscope:registry https://xxx.com/npm/&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><hr><ul><li>3 种工具来搭建 npm 私服: nexus、verdaccio 以及 cnpm</li></ul><hr><h3 id=npm-配置作用优先级>npm 配置作用优先级</h3><ul><li>优先级从左到右依次降低</li></ul><p><figure class=gallery-image style=flex-grow:546;flex-basis:1311px><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-config.png data-size=1240x227><img src=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-config.png width=1240 height=227 srcset="/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-config_hu63f48aae48e10e056dd31955b49d84b9_54473_480x0_resize_box_3.png 480w, /p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-194/npm-config_hu63f48aae48e10e056dd31955b49d84b9_54473_1024x0_resize_box_3.png 1024w" loading=lazy alt=npm配置优先级></a><figcaption>npm配置优先级</figcaption></figure></p><h2 id=reference>Reference</h2><p><a class=link href=https://www.npmjs.com/package/pacote target=_blank rel=noopener>pacote - npm</a></p><p><a class=link href=https://github.com/npm/npm-registry-fetch#npm-registry-fetch target=_blank rel=noopener>npm/npm-registry-fetch: like fetch() but for the npm registry</a></p><p><a class=link href=https://datatracker.ietf.org/doc/rfc7234/ target=_blank rel=noopener>RFC 7234 - Hypertext Transfer Protocol (HTTP/1.1): Caching</a></p><p><a class=link href=https://docs.npmjs.com/cli/v8 target=_blank rel=noopener>npm CLI | npm Docs</a></p><p><a class=link href=https://docs.npmjs.com/cli/v8/commands/npm-init target=_blank rel=noopener>npm-init | npm Docs</a></p><p><a class=link href=https://nodejs.org/dist/latest-v16.x/docs/api/process.html#processcwd target=_blank rel=noopener>Process | Node.js v16.14.2 Documentation</a></p><p><a class=link href=https://docs.npmjs.com/cli/v8/commands/npm-config target=_blank rel=noopener>npm-config | npm Docs</a></p><p><a class=link href=https://www.npmjs.com/package/npx target=_blank rel=noopener>npx - npm</a></p><p><a class=link href=https://www.npmjs.com/package/nrm target=_blank rel=noopener>nrm - npm</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>相关文章</h2><div class=related-contents><div class="flex article-list--tile"><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-346~349/><div class=article-details><h2 class=article-title>毎日のフロントエンド 346~349</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-303~304/><div class=article-details><h2 class=article-title>毎日のフロントエンド 303~304</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-298/><div class=article-details><h2 class=article-title>毎日のフロントエンド 298</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-296~297/><div class=article-details><h2 class=article-title>毎日のフロントエンド 296~297</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-295/><div class=article-details><h2 class=article-title>毎日のフロントエンド 295</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2021 -
2022 技術の手帳</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#npm>npm</a><ol><li><a href=#npm-内部机制和核心原理>npm 内部机制和核心原理</a><ol><li><a href=#npm-的安装机制>npm 的安装机制</a></li><li><a href=#npm-缓存机制>npm 缓存机制</a></li><li><a href=#常用技巧>常用技巧</a></li><li><a href=#npx-的作用>npx 的作用</a></li></ol></li><li><a href=#npm-多源镜像和企业级部署私服原理>npm 多源镜像和企业级部署私服原理</a></li><li><a href=#npm-配置作用优先级>npm 配置作用优先级</a></li></ol></li><li><a href=#reference>Reference</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>