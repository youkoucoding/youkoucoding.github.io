<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="frontend 每日一练"><title>毎日のフロントエンド 201</title><link rel=canonical href=https://youkoucoding.github.io/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-201/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="毎日のフロントエンド 201"><meta property="og:description" content="frontend 每日一练"><meta property="og:url" content="https://youkoucoding.github.io/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-201/"><meta property="og:site_name" content="技術の手帳"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2022-04-09T17:15:55+09:00"><meta property="article:modified_time" content="2022-04-09T17:15:55+09:00"><meta name=twitter:title content="毎日のフロントエンド 201"><meta name=twitter:description content="frontend 每日一练"><link rel="shortcut icon" href=/img/site-icon.png></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=https://youkoucoding.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>返回</span></a></div><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/html/>HTML</a>
<a href=/categories/css/>CSS</a>
<a href=/categories/tips/>Tips</a></header><h2 class=article-title><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-201/>毎日のフロントエンド 201</a></h2><h3 class=article-subtitle>frontend 每日一练</h3><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Apr 09, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 4 分钟</time></div></footer></div></header><section class=article-content><h2 id=html>HTML</h2><h3 id=p-p会换两行><code>&lt;p> &lt;/p></code>会换两行</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>p</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>block</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>margin-block-start</span><span class=p>:</span> <span class=mi>1</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>margin-block-end</span><span class=p>:</span> <span class=mi>1</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>margin-inline-start</span><span class=p>:</span> <span class=mi>0</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>margin-inline-end</span><span class=p>:</span> <span class=mi>0</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>以上为<code>p</code>的用户代理<ul><li>默认上下 <code>margin</code> 为 <code>1em</code>，所以等效于两行字那么高。</li><li><code>margin-block-start /end</code>等效于上下外边距</li><li><code>margin-inline-start/end</code>等效于左右外边距</li></ul></li></ul><h2 id=css>CSS</h2><h3 id=伪类focus-within的用法>伪类<code>:focus-within</code>的用法</h3><ul><li><code>:focus-within</code> 是一个 CSS 伪类 ，表示一个元素获得焦点，或，该元素的后代元素获得焦点。换句话说，元素自身或者它的某个后代匹配 :focus 伪类。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=c>/* 当 &lt;div&gt; 的某个后代获得焦点时，匹配 &lt;div&gt; */</span>
</span></span><span class=line><span class=cl><span class=nt>div</span><span class=p>:</span><span class=nd>focus-within</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background</span><span class=p>:</span> <span class=kc>cyan</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=javascript>JavaScript</h2><h3 id=object-与-map-的异同及使用场景><code>Object</code> 与 <code>Map</code> 的异同及使用场景</h3><h4 id=map>Map</h4><ul><li>Map 是一种数据结构（是一种抽象的数据结构类型），数据一对对进行存储，其中包含键以及映射到该键的值。并且由于<strong>键的唯一性，因此不存在重复的键值对。</strong></li><li><strong>Map 中的键和值可以是任何数据类型，不仅限于字符串或整数</strong></li></ul><h4 id=object>Object</h4><ul><li>JavaScript 中的常规对象是一种字典类型的数据结构——这意味着它依然遵循与 Map 类型相同键值对的存储结构。</li><li>Object 中的 key，或者我们可以称之为<strong>属性</strong>，同样是独一无二的并且对应着一个单独的 value。</li><li>JavaScript 中的 Object 拥有<strong>内置原型(prototype)</strong></li><li>JavaScript 中几乎所有对象都是 Object 实例，包括 Map</li></ul><hr><ul><li>Object 和 Map 的本质都是以键值对的方式存储数据，但实质上他们之间存在很大的区别：<ul><li>键：<ul><li><code>Object</code>遵循普通的字典规则，键必须是单一类型，并且只能是<strong>整数</strong>、<strong>字符串</strong>或是**<code>Symbol</code>类型**。</li><li><code>Map</code> 中，<code>key</code> 可以为<strong>任意数据类型</strong>（包括<code>Object</code>, <code>Array</code> 等）</li></ul></li><li>元素顺序：Map 会保留所有元素的顺序，而 Object 并不会保证属性的顺序。</li><li>继承：Map 是 Object 的实例对象，而 Object 显然不可能是 Map 的实例对象。</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>map</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>]);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>map</span> <span class=k>instanceof</span> <span class=nb>Object</span><span class=p>);</span> <span class=c1>//true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Object</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>obj</span> <span class=k>instanceof</span> <span class=nx>Map</span><span class=p>);</span> <span class=c1>//false
</span></span></span></code></pre></div><h4 id=如何创建>如何创建</h4><h5 id=map-1><code>Map</code></h5><ul><li>创建 Map 只有一种方式，使用其内置的构造函数以及<code>new</code>。 <code>Map([iterable])</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>map</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>();</span> <span class=c1>//Empty Map
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>map</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Map</span><span class=p>([</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>]);</span> <span class=c1>// map = {1=&gt;2, 2=&gt;3}
</span></span></span></code></pre></div><h5 id=object-1><code>Object</code></h5><ol><li>直接定义</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{};</span> <span class=c1>//空对象
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span> <span class=nx>id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;Test object&#39;</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>//2 keys here: id maps to 1, and name maps to &#34;Test object&#34;
</span></span></span></code></pre></div><ol start=2><li>使用构造方法</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Object</span><span class=p>();</span> <span class=c1>//空对象
</span></span></span></code></pre></div><ol start=3><li><code>Object.prototype.create()</code></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span> <span class=c1>//空对象
</span></span></span></code></pre></div><ul><li>希望继承某个原型对象，而无需定义它的构造函数，如下：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>Vehicle</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;General&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>display</span><span class=o>:</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=nx>type</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>Car</span> <span class=o>=</span> <span class=nb>Object</span><span class=p>.</span><span class=nx>create</span><span class=p>(</span><span class=nx>Vehicle</span><span class=p>);</span> <span class=c1>//创建一个继承自 Vehicle 的对象 Car
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Car</span><span class=p>.</span><span class=nx>type</span> <span class=o>=</span> <span class=s1>&#39;Car&#39;</span><span class=p>;</span> <span class=c1>//重写 type 属性
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Car</span><span class=p>.</span><span class=nx>display</span><span class=p>();</span> <span class=c1>//Car
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>Vehicle</span><span class=p>.</span><span class=nx>display</span><span class=p>();</span> <span class=c1>//General
</span></span></span></code></pre></div><ul><li>尽量避免使用构造函数的方式:<ul><li>构造函数会写更多代码</li><li>性能更差</li><li>更加混乱更容易引起程序错误</li></ul></li></ul><h4 id=访问元素>访问元素</h4><h5 id=map-2><code>Map</code></h5><ul><li>Map，获取元素要通过方法<code>Map.prototype.get(key)</code>实现</li><li>Object 类似，要获取到值必须先知道所对应的 key/property，不过使用不同的语法：<code>Object.&lt;key></code> or <code>Object[‘key’]</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>obj</span><span class=p>.</span><span class=nx>id</span><span class=p>;</span> <span class=c1>//1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>obj</span><span class=p>[</span><span class=s1>&#39;id&#39;</span><span class=p>];</span> <span class=c1>//1
</span></span></span></code></pre></div><ul><li>判断 Map 中是否存在某个 key <code>map.has(1);//return boolean value: true/false</code></li><li>Object 需要一些额外的判断:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>isExist</span> <span class=o>=</span> <span class=nx>obj</span><span class=p>.</span><span class=nx>id</span> <span class=o>===</span> <span class=kc>undefined</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=c1>// or
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>isExist</span> <span class=o>=</span> <span class=s1>&#39;id&#39;</span> <span class=k>in</span> <span class=nx>obj</span><span class=p>;</span> <span class=c1>// 该方法会检查继承的属性
</span></span></span></code></pre></div><ul><li>可以使用<code>Object.prototype.hasOwnProperty()</code>判断 Object 中是否存在特定的 key，它的返回值为 true/false，并且<strong>只会检查对象上的非继承属性。</strong></li></ul><h4 id=插入>插入</h4><ul><li>Map 支持通过 <code>Map.prototype.set()</code>方法插入元素，该方法接收两个参数：<code>key</code>，<code>value</code>。如果传入已存在的 key，则将会重写该 key 所对应的 value</li><li>Object 添加属性可以使用下面的方法</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>obj</span><span class=p>[</span><span class=s1>&#39;gender&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;female&#39;</span><span class=p>;</span> <span class=c1>//{id: 1, name: &#34;test&#34;, gender: &#34;female&#34;}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>obj</span><span class=p>.</span><span class=nx>gender</span> <span class=o>=</span> <span class=nx>male</span><span class=p>;</span> <span class=c1>// 重写已存在的属性
</span></span></span><span class=line><span class=cl><span class=c1>//{id: 1, name: &#34;test&#34;, gender: &#34;male&#34;}
</span></span></span></code></pre></div><h4 id=删除>删除</h4><ul><li><p><code>Object</code>并没有提供删除元素的内置方法，可以使用 <code>delete</code> 语法：</p><ul><li>delete 会完全删除 Object 上某个特有的属性</li><li><code>obj[key] = undefined</code>, 只会改变这个 key 所对应的 value 为 undefined，而该属性仍然保留在对象中, 在使用 <code>for...in...</code>循环时<strong>仍然会遍历到该属性的 <code>key</code></strong>。</li><li><code>delete</code>操作符的返回值为<code>true/false</code>，但其返回值的依据与预想情况有所差异：<ul><li>对于所有情况都返回 true</li><li>除非属性是一个<code>non-configurable</code>属性，否则在非严格模式返回 false，严格模式下将抛出异常</li></ul></li></ul></li><li><p><code>Map</code> 有更多内置的删除元素方式</p><ul><li><code>delete(key)</code>用于从 Map 中删除特定 key 所对应的 value，该方法返回一个布尔值<ul><li>如果目标对象中存在指定的 key 并成功删除，则返回 true；</li><li>如果对象中不存在该 key 则返回 false。</li></ul></li><li><code>clear()</code> 清空 Map 中所有元素(Object 要实现 Map 的 clear()方法，需要遍历这个对象的属性，逐个删除)</li></ul></li></ul><hr><ul><li>Object 和 Map 删除元素的方法也相似。其中删除某个元素的时间复杂度为 O(1)，清空元素的时间复杂度为 O(n)，n 为 Object 和 Map 的大小。</li></ul><h4 id=获取大小>获取大小</h4><ul><li><code>Map</code>的一个优点是它可以自动更新其大小，可以通过以下方式获得：<code>map.size</code></li><li><code>Object</code>，需要通过<code>Object.keys()</code>方法计算其大小，该方法<strong>返回一个包含所有 key 的数组。</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>obj</span><span class=p>).</span><span class=nx>length</span><span class=p>);</span>
</span></span></code></pre></div><h4 id=迭代>迭代</h4><ul><li><strong>Map 有内置的迭代器，Object 没有内置的迭代器</strong></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// 判断某种类型是否可迭代，可以通过以下方式实现
</span></span></span><span class=line><span class=cl><span class=c1>// typeof &lt;obj&gt;[Symbol.iterator] === “function”
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>obj</span><span class=p>[</span><span class=nx>Symbol</span><span class=p>.</span><span class=nx>iterator</span><span class=p>]);</span> <span class=c1>//undefined
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span> <span class=nx>map</span><span class=p>[</span><span class=nx>Symbol</span><span class=p>.</span><span class=nx>iterator</span><span class=p>]);</span> <span class=c1>//function
</span></span></span></code></pre></div><hr><ul><li><code>Map</code>，所有元素可以通过<code>for...of</code>方法遍历：</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//For map: { 2 =&gt; 3, 4 =&gt; 5 }
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=nx>item</span> <span class=k>of</span> <span class=nx>map</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>item</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>//Array[2,3]
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//Array[4,5]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>//Or
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kr>const</span> <span class=p>[</span><span class=nx>key</span><span class=p>,</span> <span class=nx>value</span><span class=p>]</span> <span class=k>of</span> <span class=nx>map</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`key: </span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>, value: </span><span class=si>${</span><span class=nx>value</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>//key: 2, value: 3
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//key: 4, value: 5
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><ul><li><code>Map</code>内置的 forEach()方法</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>map</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>value</span><span class=p>,</span> <span class=nx>key</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`key: </span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>, value: </span><span class=si>${</span><span class=nx>value</span><span class=si>}</span><span class=sb>`</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=c1>//key: 2, value: 3
</span></span></span><span class=line><span class=cl><span class=c1>//key: 4, value: 5
</span></span></span></code></pre></div><ul><li><code>Object</code>，使用<code>for...in</code>方法</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>//{id: 1, name: &#34;test&#34;}
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>key</span> <span class=k>in</span> <span class=nx>obj</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`key: </span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>, value: </span><span class=si>${</span><span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span><span class=si>}</span><span class=sb>`</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=c1>//key: id, value: 1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//key: name, value: test
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><ul><li><code>Object</code> 使用<code>Object.keys(obj)</code>只能获取所有 key 并进行遍历</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nb>Object</span><span class=p>.</span><span class=nx>keys</span><span class=p>(</span><span class=nx>obj</span><span class=p>).</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>key</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=sb>`key: </span><span class=si>${</span><span class=nx>key</span><span class=si>}</span><span class=sb>, value: </span><span class=si>${</span><span class=nx>obj</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span><span class=si>}</span><span class=sb>`</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=c1>//key: id, value: 1
</span></span></span><span class=line><span class=cl><span class=c1>//key: name, value: test
</span></span></span></code></pre></div><h4 id=应用场景>应用场景</h4><ul><li>Map 相对于 Object 有很多优点，依然存在某些使用 Object 会更好的场景:<ul><li>如果知道所有的<code>key</code>，它们都为<strong>字符串</strong>或<strong>整数</strong>（或是<strong>Symbol 类型</strong>），需要一个简单的结构去存储这些数据，Object 是一个非常好的选择。构建一个 Object 并通过知道的特定 key 获取元素的性能要优于 Map（字面量 vs 构造函数，直接获取 vs get()方法）</li><li>如果需要在对象中保持自己独有的逻辑和属性，只能使用 Object</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>// Map并不能实现这样的数据结构
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>var</span> <span class=nx>obj</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>id</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;It&#39;s Me!&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>print</span><span class=o>:</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=sb>`Object Id: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>id</span><span class=si>}</span><span class=sb>, with Name: </span><span class=si>${</span><span class=k>this</span><span class=p>.</span><span class=nx>name</span><span class=si>}</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>obj</span><span class=p>.</span><span class=nx>print</span><span class=p>());</span> <span class=c1>//Object Id: 1, with Name: It&#39;s Me.
</span></span></span></code></pre></div><ul><li>JSON 直接支持 Object，但尚未支持 Map。因此，在某些必须使用 JSON 的情况下，应将 Object 视为首选。</li><li>Map 是一个纯哈希结构，而 Object 不是（它拥有自己的内部逻辑）。使用 delete 对 Object 的属性进行删除操作存在很多性能问题。所以，<strong>针对于存在大量增删操作的场景，使用 Map 更合适。</strong></li><li>不同于 Object，Map 会保留所有元素的顺序。Map 结构是在基于可迭代的基础上构建的，所以如果考虑到元素迭代或顺序，使用 Map 更好，它能够确保在所有浏览器中的迭代性能。</li><li>Map 在存储大量数据的场景下表现更好，尤其是在 key 为未知状态，并且所有 key 和所有 value 分别为相同类型的情况下</li></ul><h3 id=typescript-tips>TypeScript Tips</h3><ul><li>Decode some URL search params <strong>AT THE TYPE LEVEL</strong><ul><li>用类型解码 URL 搜索参数, 转化为一个对象</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nb>String</span><span class=p>,</span> <span class=nx>Union</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;ts-toolbelt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>query</span> <span class=o>=</span> <span class=sb>`/home?a=foo&amp;b=bar`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//convert to below
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kr>const</span> <span class=nx>obj</span>: <span class=kt>Union.Merge</span><span class=p>&lt;</span><span class=nt>QueryParams</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=o>:</span> <span class=s1>&#39;foo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span><span class=o>:</span> <span class=s1>&#39;bar&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><ul><li>Solution</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-ts data-lang=ts><span class=line><span class=cl><span class=kr>import</span> <span class=p>{</span> <span class=nb>String</span><span class=p>,</span> <span class=nx>Union</span> <span class=p>}</span> <span class=kr>from</span> <span class=s1>&#39;ts-toolbelt&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>query</span> <span class=o>=</span> <span class=sb>`/home?a=foo&amp;b=bar`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>type</span> <span class=nx>Query</span> <span class=o>=</span> <span class=k>typeof</span> <span class=nx>query</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>type</span> <span class=nx>SecondQueryPart</span> <span class=o>=</span> <span class=nb>String</span><span class=p>.</span><span class=nx>Split</span><span class=p>&lt;</span><span class=nt>Query</span><span class=err>,</span> <span class=err>&#39;?&#39;</span><span class=p>&gt;[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>type</span> <span class=nx>QueryElements</span> <span class=o>=</span> <span class=nb>String</span><span class=p>.</span><span class=nx>Split</span><span class=p>&lt;</span><span class=nt>SecondQueryPart</span><span class=err>,</span> <span class=err>&#39;&amp;&#39;</span><span class=p>&gt;;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>type</span> <span class=nx>QueryParams</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span><span class=nx>QueryElement</span> <span class=k>in</span> <span class=nx>QueryElements</span><span class=p>[</span><span class=kt>number</span><span class=p>]]</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>[</span><span class=nx>Key</span> <span class=k>in</span> <span class=nb>String</span><span class=p>.</span><span class=nx>Split</span><span class=p>&lt;</span><span class=nt>QueryElement</span><span class=err>,</span> <span class=err>&#39;=&#39;</span><span class=p>&gt;[</span><span class=mi>0</span><span class=p>]]</span><span class=o>:</span> <span class=nb>String</span><span class=p>.</span><span class=nx>Split</span><span class=p>&lt;</span><span class=nt>QueryElement</span><span class=err>,</span> <span class=err>&#39;=&#39;</span><span class=p>&gt;[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}[</span><span class=nx>QueryElements</span><span class=p>[</span><span class=kt>number</span><span class=p>]];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>obj</span>: <span class=kt>Union.Merge</span><span class=p>&lt;</span><span class=nt>QueryParams</span><span class=p>&gt;</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>a</span><span class=o>:</span> <span class=s1>&#39;foo&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nx>b</span><span class=o>:</span> <span class=s1>&#39;bar&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><h2 id=reference>Reference</h2><p><a class=link href=https://github.com/haizlin/fe-interview/blob/master/category/history.md target=_blank rel=noopener>haizlin/fe-interview</a></p><p><a class=link href=https://developer.mozilla.org/zh-CN/docs/Web/CSS/:focus-within target=_blank rel=noopener>:focus-within - CSS（层叠样式表） | MDN</a></p><p><a class=link href=https://juejin.cn/post/6844903792094232584 target=_blank rel=noopener>Object 与 Map 的异同及使用场景</a></p><p><a class=link href=https://medium.com/front-end-weekly/es6-map-vs-object-what-and-when-b80621932373 target=_blank rel=noopener>ES6 — Map vs Object — What and when? | by Maya Shavin | Frontend Weekly | Medium</a></p><p><a class=link href=https://github.com/millsp/ts-toolbelt/blob/master/sources/String/Split.ts target=_blank rel=noopener>ts-toolbelt/Split.ts at master · millsp/ts-toolbelt</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>相关文章</h2><div class=related-contents><div class="flex article-list--tile"><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-203/><div class=article-details><h2 class=article-title>毎日のフロントエンド 203</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-202/><div class=article-details><h2 class=article-title>毎日のフロントエンド 202</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-200/><div class=article-details><h2 class=article-title>毎日のフロントエンド 200</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-195/><div class=article-details><h2 class=article-title>毎日のフロントエンド 195</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-193/><div class=article-details><h2 class=article-title>毎日のフロントエンド 193</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2021 -
2022 技術の手帳</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#html>HTML</a><ol><li><a href=#p-p会换两行><code>&lt;p> &lt;/p></code>会换两行</a></li></ol></li><li><a href=#css>CSS</a><ol><li><a href=#伪类focus-within的用法>伪类<code>:focus-within</code>的用法</a></li></ol></li><li><a href=#javascript>JavaScript</a><ol><li><a href=#object-与-map-的异同及使用场景><code>Object</code> 与 <code>Map</code> 的异同及使用场景</a><ol><li><a href=#map>Map</a></li><li><a href=#object>Object</a></li><li><a href=#如何创建>如何创建</a></li><li><a href=#访问元素>访问元素</a></li><li><a href=#插入>插入</a></li><li><a href=#删除>删除</a></li><li><a href=#获取大小>获取大小</a></li><li><a href=#迭代>迭代</a></li><li><a href=#应用场景>应用场景</a></li></ol></li><li><a href=#typescript-tips>TypeScript Tips</a></li></ol></li><li><a href=#reference>Reference</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>