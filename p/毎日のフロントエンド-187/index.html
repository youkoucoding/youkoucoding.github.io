<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="frontend 每日一练"><title>毎日のフロントエンド 187</title><link rel=canonical href=https://youkoucoding.github.io/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-187/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="毎日のフロントエンド 187"><meta property="og:description" content="frontend 每日一练"><meta property="og:url" content="https://youkoucoding.github.io/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-187/"><meta property="og:site_name" content="技術の手帳"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2022-03-25T14:19:54+09:00"><meta property="article:modified_time" content="2022-03-25T14:19:54+09:00"><meta name=twitter:title content="毎日のフロントエンド 187"><meta name=twitter:description content="frontend 每日一练"><link rel="shortcut icon" href=/img/site-icon.png></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=https://youkoucoding.github.io/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>返回</span></a></div><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/javascript/>Javascript</a>
<a href=/categories/tips/>Tips</a></header><h2 class=article-title><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-187/>毎日のフロントエンド 187</a></h2><h3 class=article-subtitle>frontend 每日一练</h3><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Mar 25, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 2 分钟</time></div></footer></div></header><section class=article-content><h2 id=javascript>JavaScript</h2><h3 id=filereader><code>FileReader</code></h3><ul><li>FileReader 对象允许 Web 应用程序<strong>异步读取</strong>存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 File 或 Blob 对象指定要读取的文件或数据</li></ul><h2 id=tips>Tips</h2><h3 id=前端性能指标>前端性能指标</h3><h4 id=首屏绘制first-paintfp>首屏绘制（First Paint，FP）</h4><ul><li>首屏绘制时间是指<em>从开始加载到浏览器首次绘制像素到屏幕上的时间</em>，也就是页面在屏幕上首次发生视觉变化的时间。<ul><li>首屏绘制不包括默认的背景绘制，但包括非默认的背景绘制。由于首次绘制之前网页呈现默认背景白色，所以也俗称“白屏时间”。</li></ul></li><li>在 HTML5 下可以通过 performance API 来获取首屏绘制时间</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>performance</span><span class=p>.</span><span class=nx>getEntriesByType</span><span class=p>(</span><span class=s1>&#39;paint&#39;</span><span class=p>)[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>{ 
</span></span></span><span class=line><span class=cl><span class=cm>  duration: 0, 
</span></span></span><span class=line><span class=cl><span class=cm>  entryType: &#34;paint&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>  name: &#34;first-paint&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>  startTime: 197.58499998715706, 
</span></span></span><span class=line><span class=cl><span class=cm>} 
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></div><ul><li>通过 <code>performance.getEntriesByType()</code> 函数返回了一个 <code>PerformanceEntry</code> 实例组成的数组<ul><li><code>duration</code> 为该事件的耗时</li><li><code>entryType</code> 为性能指标实例的类型</li><li><code>name</code> 为指标名称</li><li><code>startTime</code> 为指标采集时间。</li></ul></li></ul><h4 id=首屏内容绘制first-contentful-paintfcp>首屏内容绘制（First Contentful Paint，FCP）</h4><ul><li>浏览器首次绘制来自 DOM 的内容时间，这个内容可以是文字、图片（也包括背景图片）、非空白的 canvas 和 svg。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>performance</span><span class=p>.</span><span class=nx>getEntriesByType</span><span class=p>(</span><span class=s1>&#39;paint&#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=cm>/*
</span></span></span><span class=line><span class=cl><span class=cm>{ 
</span></span></span><span class=line><span class=cl><span class=cm>  duration: 0, 
</span></span></span><span class=line><span class=cl><span class=cm>  entryType: &#34;paint&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>  name: &#34;first-contentful-paint&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>  startTime: 797.8649999859044 
</span></span></span><span class=line><span class=cl><span class=cm>} 
</span></span></span><span class=line><span class=cl><span class=cm>*/</span>
</span></span></code></pre></div><ul><li>和获取 FP 值的唯一区别就在于通过 <code>performance.getEntriesByType()</code> 函数获取到 <code>PerformanceEntry</code> 实例数组的下标值不一样，FP 为第 1 个元素，FCP 为第 2 个元素。</li></ul><hr><ul><li>FCP 有时候会和 FP 时间相同，也可能晚于 FP。<ul><li>FP 只需要满足“开始绘制”这一个条件就可以了，而 FCP 还要满足第二个条件，那就是“绘制的像素有内容”</li></ul></li></ul><h4 id=可交互时间time-to-interactivetti>可交互时间（Time to Interactive，TTI）</h4><ul><li><p>可交互时间由<a class=link href=https://wicg.io/ target=_blank rel=noopener>Web Incubator Community Group (WICG)</a>提出，是指网页在视觉上都已渲染出了，浏览器可以响应用户的操作了。两个条件：</p><ul><li>第一个条件是主线程的长任务（长任务是指耗时超过 50 ms）执行完成后</li><li>第二个条件是随后网络静默时间达到 5 秒，这里的静默时间是指请求数不超过 2 个， 排除失败的资源请求和未使用 GET 方法进行的网络请求</li></ul></li><li><p>TTI 测量可以使用 Google 提供的模块 <a class=link href=https://www.npmjs.com/package/tti-polyfill target=_blank rel=noopener>tti-polyfill - npm</a>，示例代码如下：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>import</span> <span class=nx>ttiPolyfill</span> <span class=nx>from</span> <span class=s1>&#39;tti-polyfill&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>ttiPolyfill</span><span class=p>.</span><span class=nx>getFirstConsistentlyInteractive</span><span class=p>(</span><span class=nx>opts</span><span class=p>).</span><span class=nx>then</span><span class=p>((</span><span class=nx>tti</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><ul><li>通过调用模块提供的 <code>getFirstConsistentlyInteractive()</code> 函数即可返回一个 Promise 对象，如果当前浏览器支持相关测量方法，则返回 TTI 值，否则返回 null。</li></ul><h4 id=总阻塞时间total-blocking-timetbt>总阻塞时间（Total Blocking Time，TBT）</h4><ul><li><p>总阻塞时间由 W3C 标准 <a class=link href=https://www.w3.org/TR/2017/WD-longtasks-1-20170907/ target=_blank rel=noopener>Long Tasks API 1</a> 提出，是指阻塞用户响应（比如键盘输入、鼠标点击）的所有时间。指标值是将 FCP 之后一直到 TTI 这段时间内的阻塞部分时间总和，阻塞部分是指长任务执行时间减去 50 毫秒。</p></li><li><p>获取长任务耗时的方式如下：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>observer</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PerformanceObserver</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>list</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>perfEntries</span> <span class=o>=</span> <span class=nx>list</span><span class=p>.</span><span class=nx>getEntries</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>perfEntries</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>perfEntries</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>toJSON</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  { 
</span></span></span><span class=line><span class=cl><span class=cm>    attribution: [TaskAttributionTiming]， 
</span></span></span><span class=line><span class=cl><span class=cm>    duration: 6047.770000004675， 
</span></span></span><span class=line><span class=cl><span class=cm>    entryType: &#34;longtask&#34;， 
</span></span></span><span class=line><span class=cl><span class=cm>    name: &#34;self&#34;， 
</span></span></span><span class=line><span class=cl><span class=cm>    startTime: 22.444999995059334 
</span></span></span><span class=line><span class=cl><span class=cm>  } 
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>observer</span><span class=p>.</span><span class=nx>observe</span><span class=p>({</span>
</span></span><span class=line><span class=cl>  <span class=nx>entryTypes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;longtask&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span></code></pre></div><ul><li>首先通过 <code>PerformanceObserver</code> 函数构造一个性能监测实例，通过回调函数参数的 getEntries() 函数来获取 PerformanceEntry 实例数组，每个实例对应一个长任务。同时要指定监测实例的实体类型为“longtask”。</li></ul><h4 id=最大内容绘制largest-contentful-paintlcp>最大内容绘制（Largest Contentful Paint，LCP)</h4><ul><li><p>最大内容绘画指的是视口内可见的最大图像或文本块的绘制时间。测量这个指标的值和 TBT 相似，不同的是将实体类型改为“largest-contentful-paint”。</p></li><li><p>监测代码：</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>var</span> <span class=nx>observer</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>PerformanceObserver</span><span class=p>(</span><span class=kd>function</span> <span class=p>(</span><span class=nx>list</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>var</span> <span class=nx>perfEntries</span> <span class=o>=</span> <span class=nx>list</span><span class=p>.</span><span class=nx>getEntries</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>var</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>perfEntries</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>perfEntries</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>toJSON</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>    { 
</span></span></span><span class=line><span class=cl><span class=cm>      duration: 0, 
</span></span></span><span class=line><span class=cl><span class=cm>      element: img, 
</span></span></span><span class=line><span class=cl><span class=cm>      entryType: &#34;largest-contentful-paint&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>      id: &#34;&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>      loadTime: 274.864, 
</span></span></span><span class=line><span class=cl><span class=cm>      name: &#34;&#34;, 
</span></span></span><span class=line><span class=cl><span class=cm>      renderTime: 0, 
</span></span></span><span class=line><span class=cl><span class=cm>      size: 2502, 
</span></span></span><span class=line><span class=cl><span class=cm>      startTime: 274.864, 
</span></span></span><span class=line><span class=cl><span class=cm>           url: &#34;https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png&#34; 
</span></span></span><span class=line><span class=cl><span class=cm>      } 
</span></span></span><span class=line><span class=cl><span class=cm>    */</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>});</span>
</span></span><span class=line><span class=cl><span class=nx>observer</span><span class=p>.</span><span class=nx>observe</span><span class=p>({</span> <span class=nx>entryTypes</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;largest-contentful-paint&#39;</span><span class=p>]</span> <span class=p>});</span>
</span></span></code></pre></div><h4 id=统计方式>统计方式</h4><ul><li>平均值统计<ul><li>平均值统计应该是大家最容易想到的统计方法，将所有用户产生的性能指标值收集起来，然后对这些数据取平均值，最终得到平均耗时数据。这种统计方式最大的问题就是容易受极值影响</li></ul></li><li>百分位数统计<ul><li>百分位数统计可以解决极值问题。百分位数是对应于百分位的实际数值，比如第 70 百分位数：将数据从小到大排列，处于第 70% 的数据称为 70 分位数，表示 70% 的性能数据均小于等于该值，那剩下的 30% 的数据均大于等于该值了</li><li>百分位数的好处在于，对于性能需求不同的页面或应用，可以设置不同的百分位数。对性能要求越高，使用越大的百分位数。比如在追求极致性能的情况下，要求 99% 的用户都要小于 3 秒，我们看页面加载时长时候就应该看 99 分位数。而某些重要程度比较低的页面，可以只要求 50% 的用户页面加载时长小于 3 秒，那么对应的就是 50 分位数，也称<strong>中位数</strong>。</li></ul></li></ul><h4 id=优化思路>优化思路</h4><ul><li><p>前端性能优化一般可以从两个方向入手：<strong>加载性能优化</strong> 和 <strong>渲染性能优化</strong>。</p></li><li><p><strong>做减法</strong>是直接减少耗时操作或资源体积</p></li><li><p><strong>做除法</strong>是在耗时操作和资源体积无法减少的情况下，对其进行拆分处理或者对不可拆分的内容进行顺序调换。</p></li></ul><hr><ul><li><p>加载性能的优化手段中，</p><ul><li>做减法的有：<ul><li>采用 gzip 压缩，典型的减少资源的传输体积；</li><li>使用缓存，强制缓存可以减少浏览器请求次数，而协商缓存可以减少传输体积；</li><li>使用雪碧图，减少浏览器请求次数。</li></ul></li><li>做除法的有：<ul><li>HTTP2 多路复用，把多个请求拆分成二进制帧，并发传输；</li><li>懒加载，将 Web 应用拆分成不同的模块或文件，按需加载；</li><li>把 script 标签放到 body 底部，通过调整顺序来控制渲染时间。</li></ul></li></ul></li><li><p>在渲染性能优化的手段中</p><ul><li>做减法的有：<ul><li>避免重排与重绘，减少渲染引擎的绘制；</li><li>防抖操作，减少函数调用或请求次数；</li><li>减少 DOM 操作，减少渲染引擎和脚本引擎的切换，同时也减少渲染引擎绘制。</li></ul></li><li>做除法的有：<ul><li>骨架屏，将页面内容进行拆分，调整不同部分的显示顺序；</li><li>使用 Web Worker，将一些长任务拆分出来，放到 Web Worker 中执行；</li><li>React Fiber，将同步视图的任务进行拆分，可调换顺序，可暂停。</li></ul></li></ul></li></ul><h2 id=reference>Reference</h2><p><a class=link href=https://github.com/haizlin/fe-interview/blob/master/category/history.md target=_blank rel=noopener>haizlin/fe-interview</a></p><p><a class=link href=https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader target=_blank rel=noopener>FileReader - Web API 接口参考 | MDN</a></p><p><a class=link href=https://www.w3.org/TR/paint-timing/#sec-paint-timing target=_blank rel=noopener>Paint Timing 1</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>相关文章</h2><div class=related-contents><div class="flex article-list--tile"><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-190/><div class=article-details><h2 class=article-title>毎日のフロントエンド 190</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-189/><div class=article-details><h2 class=article-title>毎日のフロントエンド 189</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-188/><div class=article-details><h2 class=article-title>毎日のフロントエンド 188</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-184/><div class=article-details><h2 class=article-title>毎日のフロントエンド 184</h2></div></a></article><article><a href=/p/%E6%AF%8E%E6%97%A5%E3%81%AE%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E3%82%A8%E3%83%B3%E3%83%89-182/><div class=article-details><h2 class=article-title>毎日のフロントエンド 182</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2021 -
2022 技術の手帳</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#javascript>JavaScript</a><ol><li><a href=#filereader><code>FileReader</code></a></li></ol></li><li><a href=#tips>Tips</a><ol><li><a href=#前端性能指标>前端性能指标</a><ol><li><a href=#首屏绘制first-paintfp>首屏绘制（First Paint，FP）</a></li><li><a href=#首屏内容绘制first-contentful-paintfcp>首屏内容绘制（First Contentful Paint，FCP）</a></li><li><a href=#可交互时间time-to-interactivetti>可交互时间（Time to Interactive，TTI）</a></li><li><a href=#总阻塞时间total-blocking-timetbt>总阻塞时间（Total Blocking Time，TBT）</a></li><li><a href=#最大内容绘制largest-contentful-paintlcp>最大内容绘制（Largest Contentful Paint，LCP)</a></li><li><a href=#统计方式>统计方式</a></li><li><a href=#优化思路>优化思路</a></li></ol></li></ol></li><li><a href=#reference>Reference</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>