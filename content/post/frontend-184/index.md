---
title: 'æ¯æ—¥ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰  184'
date: 2022-03-22T14:27:44+09:00
description: frontend æ¯æ—¥ä¸€ç»ƒ
categories:
  - HTML
  - CSS
  - JavaScript
  - Tips
---

## HTML

### ä¸‹æ‹‰é€‰é¡¹è¿›è¡Œåˆ†ç»„

```html
<select name="alpha">
  <optgroup label="A">
    <option value="1">AA</option>
    <option value="2">BB</option>
    <option value="3">CC</option>
  </optgroup>
  <optgroup label="a">
    <option value="1">aa</option>
    <option value="2">bb</option>
    <option value="3">cc</option>
  </optgroup>
</select>
```

## CSS

### `translate()` æ–¹æ³•

- `translate()` CSS å‡½æ•°åœ¨æ°´å¹³å’Œ/æˆ–å‚ç›´æ–¹å‘ä¸Šé‡æ–°å®šä½å…ƒç´ 
  - `transform: translate(x,y,z)` æ§åˆ¶å…ƒç´ å¾€ä¸‰ä¸ªè½´æ–¹å‘å¹³ç§»
    - x æ˜¯å±å¹•å·¦ä¸Šè§’å¾€å³çš„æ–¹å‘
    - y æ˜¯å±å¹•å·¦ä¸Šè§’å¾€ä¸‹çš„æ–¹å‘
    - z æ˜¯å±å¹•åˆ°äººçœ¼çš„æ–¹å‘

## Tips

### å‰åç«¯æ²Ÿé€š

#### RPCâ€”è¿œç¨‹è¿‡ç¨‹è°ƒç”¨

- `RPC`ï¼ˆRemote Procedure Callï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰å¸¸ç”¨äºåç«¯æœåŠ¡è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚
- â€œè¿œç¨‹â€æŒ‡çš„æ˜¯ä¸åŒæœåŠ¡å™¨ä¸Šçš„è¿›ç¨‹ï¼Œâ€œè¿‡ç¨‹è°ƒç”¨â€é‡Œçš„â€œè¿‡ç¨‹â€å¯ä»¥ç†è§£ä¸ºâ€œå‡½æ•°â€ï¼Œè¿™ç§æ¥å£è®¾è®¡å’Œå‡½æ•°å‘½åå¾ˆç›¸ä¼¼ï¼Œåç§°ä¸ºåŠ¨å®¾ç»“æ„çŸ­è¯­

```
GET /getUsers
POST /deleteUser
POST /createUser
```

- RPC é£æ ¼å’Œå¹³å¸¸ç¼–å†™æ¨¡å—çš„æ€è·¯å¾ˆåƒï¼Œæä¾›äº†ä¸€ä¸ªå‡½æ•°ä½œä¸ºæ¥å£ï¼Œä¾›å…¶ä»–æ¨¡å—è°ƒç”¨ã€‚æ˜¯ç«™åœ¨åç«¯å·¥ç¨‹å¸ˆçš„è§†è§’è€Œè®¾ç½®çš„ï¼šä¸ºäº†åƒåœ¨æœ¬åœ°è°ƒç”¨ä¸€ä¸ªå‡½æ•°é‚£æ ·è°ƒç”¨è¿œç¨‹çš„ä»£ç ã€‚
  - **ç´§è€¦åˆ**ï¼šå½“å‰ç«¯å·¥ç¨‹å¸ˆéœ€è¦è·å–æˆ–ä¿®æ”¹æŸä¸ªæ•°æ®æ—¶ï¼Œä»–æœ‰å¯èƒ½éœ€è¦å…ˆè°ƒç”¨æ¥å£ A ï¼Œå†è°ƒç”¨æ¥å£ Bï¼Œè¿™ç§è°ƒç”¨éœ€è¦å¯¹ç³»ç»Ÿéå¸¸ç†Ÿæ‚‰ï¼Œè®©å‰ç«¯å·¥ç¨‹å¸ˆç†Ÿæ‚‰åç«¯é€»è¾‘å’Œä»£ç æ˜¾ç„¶æ˜¯éš¾ä»¥åŠåˆ°çš„ã€‚
  - **å†—ä½™**ï¼šæŠŠæ‰§è¡ŒåŠ¨ä½œå†™åœ¨ URL ä¸Šå®é™…æ˜¯å†—ä½™çš„ï¼Œå› ä¸º HTTP çš„ Method å¤´éƒ¨å¯ä»¥è¡¨ç¤ºä¸åŒçš„åŠ¨ä½œè¡Œä¸ºã€‚

#### RESTâ€”è¡¨ç°å±‚çŠ¶æ€è½¬æ¢

##### è¡¨ç°å±‚

- èµ„æºæŒ‡çš„æ˜¯ä¸€ä¸ªå®ä½“ä¿¡æ¯ï¼Œä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ã€ä¸€æ®µ JSON æ•°æ®éƒ½å¯ä»¥ç§°ä¸ºèµ„æºã€‚
- ä¸€ä¸ªèµ„æºå¯ä»¥æœ‰ä¸åŒçš„å‘ˆç°å½¢å¼ï¼Œæ¯”å¦‚ä¸€ä»½æ•°æ®å¯ä»¥æ˜¯ XML æ ¼å¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ JSON æ ¼å¼ï¼Œè¿™ç§å‘ˆç°å½¢å¼å«ä½œâ€œè¡¨ç°å±‚ï¼ˆ`Representation`ï¼‰

##### çŠ¶æ€è½¬ç§»

- HTTP æœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼Œå› æ­¤ï¼Œå¦‚æœå®¢æˆ·ç«¯æƒ³è¦æ“ä½œæœåŠ¡å™¨ï¼Œåˆ™å¿…é¡»é€šè¿‡æŸç§æ‰‹æ®µè®©æœåŠ¡å™¨å‘ç”Ÿâ€œçŠ¶æ€è½¬ç§»ï¼ˆState Transferï¼‰â€ã€‚è€Œè¿™ç§è½¬ç§»æ˜¯å»ºç«‹åœ¨è¡¨ç°å±‚ä¹‹ä¸Šçš„ï¼Œå³â€œè¡¨ç°å±‚çŠ¶æ€è½¬ç§»â€ã€‚

---

> REST çš„æ ¸å¿ƒè¦ç‚¹æœ‰ä¸¤ä¸ªï¼Œé‚£å°±æ˜¯**èµ„æº**å’Œ**æ–¹æ³•**ã€‚

- REST çš„ URL æŒ‡å‘æŸä¸ªæˆ–æŸç±»èµ„æºï¼Œæ‰€ä»¥ä¸å†æ˜¯ç±»ä¼¼ RPC çš„åŠ¨å®¾ç»“æ„ï¼Œè€Œæ˜¯**åè¯**ã€‚
  - é€šå¸¸ï¼Œå½“ URL çš„è·¯å¾„ä»¥ ID ç»“å°¾åˆ™è¡¨ç¤ºæŒ‡ä»£æŸä¸ªèµ„æºï¼Œæ—  ID åˆ™æŒ‡å‘ä¸€ç±»èµ„æºã€‚
  - è·¯å¾„åˆ†éš”ç¬¦è¡¨ç¤ºèµ„æºä¹‹é—´çš„åµŒå¥—å…³ç³»ã€‚

```
/orgs
/orgs/123asdf12d
/orgs/ss1212sdf/users
/orgs/ss1212sdf/users/111asdl234l
```

- è¦è¿›è¡ŒçŠ¶æ€è½¬ç§»çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ˜¯ HTTP é»˜è®¤çš„è¯­ä¹‰åŒ–å¤´éƒ¨ Method å­—æ®µ

```
GETï¼ˆSELECTï¼‰ï¼šè·å–èµ„æº
POSTï¼ˆCREATEï¼‰ï¼šæ–°å»ºä¸€ä¸ªèµ„æº
PUTï¼ˆUPDATEï¼‰ï¼šæ›´æ–°èµ„æº
DELETEï¼ˆDELETEï¼‰ï¼šä»æœåŠ¡å™¨åˆ é™¤èµ„æº
```

---

- REST çš„ä½è€¦åˆã€é«˜åº¦è¯­ä¹‰åŒ–çš„è®¾è®¡é£æ ¼æ¯”è¾ƒé€‚åˆå‰åç«¯é€šä¿¡ï¼Œä¹Ÿå­˜åœ¨ 3 ä¸ªä¸è¶³
  - **å¼±çº¦æŸ**ã€‚REST å®šä¹‰è¯·æ±‚è·¯å¾„å’Œæ–¹æ³•ï¼Œä½†å¯¹éå¸¸é‡è¦çš„è¯·æ±‚ä½“å’Œå“åº”ä½“å¹¶æ²¡æœ‰ç»™å‡ºè§„èŒƒå’Œçº¦æŸã€‚è¿™å°±æ„å‘³ç€éœ€è¦å€ŸåŠ©å·¥å…·æ¥é‡æ–°å®šä¹‰å’Œæ ¡éªŒè¿™äº›å†…å®¹ï¼Œè€Œä¸åŒå·¥å…·ä¹‹é—´çš„å®šä¹‰æ ¼å¼å’Œæ ¡éªŒæ–¹å¼éƒ½ä¸ç›¸åŒï¼Œç»™å·¥ç¨‹å¸ˆå¸¦æ¥äº†ä¸€å®šçš„å­¦ä¹ è´Ÿæ‹…ã€‚
  - **æ¥å£æ¾æ•£**ã€‚ REST é£æ ¼çš„æ•°æ®ç²’åº¦ä¸€èˆ¬éƒ½éå¸¸å°ï¼Œå‰ç«¯è¦è¿›è¡Œå¤æ‚æŸ¥è¯¢çš„æ—¶å€™å¯èƒ½ä¼šæ¶‰åŠå¤šä¸ª API æŸ¥è¯¢ï¼Œé‚£ä¹ˆä¼šäº§ç”Ÿå¤šä¸ªç½‘ç»œè¯·æ±‚ï¼Œå¾ˆå®¹æ˜“é€ æˆæ€§èƒ½é—®é¢˜ã€‚é€šå¸¸çš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡ç±»ä¼¼ API ç½‘å…³çš„ä¸­è½¬æœåŠ¡å™¨æ¥å®ç°å¯¹æ¥å£çš„èšåˆå’Œç¼“å­˜ã€‚
  - **æ•°æ®å†—ä½™**ã€‚å‰ç«¯å¯¹ç½‘ç»œè¯·æ±‚æ€§èƒ½æ˜¯æ¯”è¾ƒæ•æ„Ÿçš„ï¼Œæ‰€ä»¥ä¼ è¾“çš„æ•°æ®é‡å°½å¯èƒ½å°ï¼Œä½† REST API åœ¨è®¾è®¡å¥½ä¹‹åï¼Œè¿”å›çš„å­—æ®µå€¼æ˜¯å›ºå®šçš„ã€‚æ‰€ä»¥å¾ˆå®¹æ˜“å‡ºç°è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œå¯¹äºåç«¯å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œä¸ºäº†å‡å°‘ä»£ç ä¿®æ”¹ï¼Œä¼šå°½å¯èƒ½åœ°åœ¨è¿”å›ç»“æœä¸­æ·»åŠ æ›´å¤šçš„å­—æ®µï¼›å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆè€Œè¨€ï¼Œä½¿ç”¨æ•°æ®çš„åœºæ™¯å¾€å¾€æ˜¯å¤šå˜çš„ï¼Œå³ä½¿æ˜¯è°ƒç”¨åŒä¸€ä¸ª APIï¼Œåœ¨ä¸åŒåœºæ™¯ä¸‹ä¹Ÿåªä¼šç”¨åˆ°æŸäº›ç‰¹å®šçš„å­—æ®µã€‚æ‰€ä»¥ä¸å¯é¿å…åœ°äº§ç”Ÿæ•°æ®å†—ä½™ï¼Œä»è€Œé€ æˆå¸¦å®½æµªè´¹ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚

#### GraphQL â€” å›¾è¡¨æŸ¥è¯¢è¯­è¨€

> ä» API çš„æä¾›è€…ï¼Œåˆ° API æ•°æ®ï¼Œå†åˆ° API çš„ä½¿ç”¨è€…(GraphQL)

- GraphQLï¼ˆGraph Query Languageï¼‰ æ˜¯å›¾è¡¨æŸ¥è¯¢è¯­è¨€ï¼Œåœ¨ REST è§„èŒƒä¸­ï¼Œè¯·æ±‚è·¯å¾„è¡¨ç¤ºèµ„æºä¹‹é—´çš„åµŒå¥—å…³ç³»ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å½¢æˆæ ‘å‹ç»“æ„

![REST é£æ ¼çš„æ ‘ç»“æ„ API](restful-style.png)

- GraphQL ä¸­ä¸åŒç±»å‹ä¹‹é—´çš„å…³è”å…³ç³»é€šè¿‡å›¾æ¥è¡¨ç¤ºã€‚ä¸‹é¢æ˜¯ä¸€å¼ é€šè¿‡ GraphQL å·¥å…·ç”Ÿæˆçš„ç¤ºä¾‹å›¾ï¼Œæè¿°äº†ä¸åŒç±»å‹ä¹‹é—´çš„å…³ç³»ã€‚

![GraphQL Voyager ç¤ºä¾‹å›¾](graphql.png)

> GraphQL æ ¸å¿ƒæ¦‚å¿µå…¶å®å°±ä¸¤ä¸ªï¼š**æŸ¥è¯¢è¯­å¥**å’Œ**æ¨¡å¼**ï¼Œåˆ†åˆ«å¯¹åº” API çš„**è°ƒç”¨è€…**å’Œ**æä¾›è€…**

##### åˆ«åï¼ˆ`Aliases`ï¼‰

- ä½¿ç”¨ GraphQLï¼Œåªéœ€è¦ä¿®æ”¹æŸ¥è¯¢çš„åˆ«åå³å¯ã€‚

##### ç‰‡æ®µï¼ˆFragmentsï¼‰

- å¦‚æœåœ¨æŸ¥è¯¢ä¸­æœ‰é‡å¤çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥é€šè¿‡ç‰‡æ®µæ¥å¯¹å®ƒä»¬è¿›è¡ŒæŠ½è±¡ã€‚

##### å†…çœï¼ˆIntrospectionï¼‰

- è°ƒç”¨ REST API éå¸¸ä¾èµ–æ–‡æ¡£ï¼Œä½† GraphQL åˆ™ä¸éœ€è¦ï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ä¸ªå†…çœç³»ç»Ÿæ¥æè¿°åç«¯å®šä¹‰çš„ç±»å‹ã€‚
  - å¯ä»¥å…ˆé€šè¿‡æŸ¥è¯¢ `_schema` å­—æ®µæ¥å‘ GraphQL è¯¢é—®å“ªäº›ç±»å‹æ˜¯å¯ç”¨çš„ã€‚å› ä¸ºæ¯ä¸ªæŸ¥è¯¢çš„æ ¹ç±»å‹æ€»æ˜¯æœ‰ `_schema` å­—æ®µçš„
- åç«¯çš„æ¨¡å¼ä¸ Mongoose åŠ JSON-Schema çš„æ¨¡å¼æœ‰äº›ç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡å£°æ˜æ•°æ®ç±»å‹æ¥å®šä¹‰æ•°æ®ç»“æ„çš„ã€‚
  - æ•°æ®ç±»å‹åˆå¯ä»¥åˆ†ä¸ºé»˜è®¤çš„æ ‡é‡ç±»å‹ï¼Œå¦‚ Intã€String åŠè‡ªå®šä¹‰çš„å¯¹è±¡ç±»å‹ã€‚

```graphql
type User {
  id: ID!
  name: String!
  books: [Book!]!
}
```

- å®šä¹‰äº†ä¸€ä¸ª User ç±»å‹ï¼ŒåŒ…å« 3 ä¸ªå­—æ®µï¼šID ç±»å‹çš„ id å­—æ®µï¼ŒString ç±»å‹çš„ name å­—æ®µä»¥åŠ Book ç±»å‹åˆ—è¡¨ çš„ books å­—æ®µã€‚å…¶ä¸­ ID å’Œ String ä¸ºæ ‡é‡ç±»å‹ï¼ŒBook ä¸ºå¯¹è±¡ç±»å‹ï¼ŒæƒŠå¹å·è¡¨ç¤ºå­—æ®µå€¼ä¸èƒ½ä¸º nullã€‚

---

- GraphQL çš„ç±»å‹å£°æ˜å’Œ TypeScript çš„ç±»å‹å®šä¹‰é™¤äº†åœ¨å†™æ³•ä¸Šæœ‰äº›ç±»ä¼¼ï¼Œåœ¨ä¸€äº›é«˜çº§åŠŸèƒ½ä¸Šä¹Ÿæœ‰å¼‚æ›²åŒå·¥ä¹‹å¤„ï¼Œæ¯”å¦‚è”åˆç±»å‹å’Œæ¥å£å®šä¹‰ã€‚

```graphql
union Owner = User | Organization
interface Member {
  id: ID!
  name: String
}
type User implements Member {
  ...
}
type Organization implements Member {
  ...
}
```

- å®šä¹‰å¥½æ¨¡å¼ä¹‹åï¼Œå®ç°æ•°æ®æ“ä½œã€‚åœ¨ GraphQL ä¸­è¿™ä¸€éƒ¨åˆ†é€»è¾‘ç§°ä¸ºè§£æå™¨ï¼ˆ`Resolver`ï¼‰ï¼Œè§£æå™¨ä¸ç±»å‹ç›¸å¯¹åº”ï¼Œä¸‹é¢æ˜¯ç±»å‹å®šä¹‰ä»¥åŠå¯¹åº”çš„è§£æå™¨

```graphql
const schemaStr = `
type Hero {
  id: String
  name: String
}
# æ ¹ç±»å‹
type Query {
  hero(id: String, name: String): [Hero]
}
`
const resolver = {
  hero({id='hello', name='world'}) {
    if(id && name) {
      return [...data.hero, {id, name}]
    }
    return data.hero
  }
}
```

---

- **é«˜èšåˆ**ã€‚GraphQL æå€¡å°†ç³»ç»Ÿæ‰€æœ‰è¯·æ±‚è·¯å¾„éƒ½èšåˆåœ¨ä¸€èµ·å½¢æˆä¸€ä¸ªç»Ÿä¸€çš„åœ°å€ï¼Œå¹¶ä½¿ç”¨ POST æ–¹æ³•æ¥æäº¤æŸ¥è¯¢è¯­å¥ï¼Œæ¯”å¦‚ GitHub ä½¿ç”¨çš„è¯·æ±‚åœ°å€å°±æ˜¯ï¼šhttps://api.github.com/graphqlã€‚
- **æ— å†—ä½™**ã€‚åç«¯ä¼šæ ¹æ®æŸ¥è¯¢è¯­å¥æ¥è¿”å›å€¼ï¼Œä¸ä¼šå‡ºç°å†—ä½™å­—æ®µã€‚
- **ç±»å‹æ ¡éªŒ**ã€‚ç”±äºæœ‰æ¨¡å¼çš„å­˜åœ¨ï¼Œå¯ä»¥è½»æ¾å®ç°å¯¹å“åº”ç»“æœåŠæŸ¥è¯¢è¯­å¥è¿›è¡Œæ ¡éªŒã€‚
- **ä»£ç å³æ–‡æ¡£**ã€‚å†…çœåŠŸèƒ½å¯ä»¥ç›´æ¥æŸ¥è¯¢æ¨¡å¼ï¼Œæ— é¡»æŸ¥è¯¢æ–‡æ¡£ä¹Ÿå¯ä»¥é€šè¿‡å‘½ååŠæè¿°ä¿¡æ¯æ¥è¿›è¡ŒæŸ¥è¯¢ã€‚

---

> GraphQL æä¾›äº†ä¸€ç§åŸºäºç‰¹å®šè¯­è¨€çš„æŸ¥è¯¢æ¨¡å¼ï¼Œè®©å‰ç«¯å¯ä»¥éšå¿ƒæ‰€æ¬²åœ°è·å¾—æƒ³è¦çš„æ•°æ®ç±»å‹ï¼Œæ˜¯ç›¸å½“å‹å¥½çš„ï¼›è€Œå¯¹äºåç«¯è€Œè¨€ï¼ŒæŠŠæ•°æ®çš„æŸ¥è¯¢ç»“æœç¼–å†™æˆ REST API è¿˜æ˜¯ GraphQL çš„è§£æå™¨ï¼Œå·¥ä½œé‡ç›¸å·®ä¸å¤§ï¼Œæœ€å¤§çš„é—®é¢˜æ˜¯å¸¦æ¥çš„æ”¶ç›Šå¯èƒ½æ— æ³•æŠµæ¶ˆå­¦ä¹ å’Œæ”¹é€ æˆæœ¬ã€‚è¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå¢åŠ äº† GraphQL çš„æ¨å¹¿éš¾åº¦

- GraphQL çš„å¤§å¤šæ•°å®é™…ä½¿ç”¨åœºæ™¯åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆä¸»å¯¼çš„æ–°é¡¹ç›®ï¼Œåç«¯é‡‡ç”¨ Node.js æ¥å®ç°ï¼Œç”¨ GraphQL æ¥æ›¿ä»£ RESTï¼›
- å¦ä¸€ç±»å°±æ˜¯å°† Node.js æœåŠ¡å™¨ä½œä¸ºä¸­è½¬æœåŠ¡å™¨ï¼Œä¸ºå‰ç«¯æä¾›ä¸€ä¸ª GraphQL æŸ¥è¯¢ï¼Œä½†å®é™…ä¸Šä»ç„¶æ˜¯è°ƒç”¨åç«¯çš„ REST API æ¥è·å–æ•°æ®ã€‚

---

> RPC é£æ ¼ï¼Œäº†è§£å³å¯ï¼›å¯¹äº REST APIï¼Œéœ€è¦é‡ç‚¹ç†è§£å®ƒé€šè¿‡è·¯å¾„æŒ‡å‘èµ„æºï¼Œä»¥åŠåˆ©ç”¨ HTTP æ–¹æ³•æ¥æŒ‡ä»£åŠ¨ä½œçš„ç‰¹æ€§ï¼›å¯¹äº GraphQLï¼Œåº”è¯¥ä» API è°ƒç”¨è€…å’Œ API æä¾›è€…ä¸¤ä¸ªè§’åº¦æ¥åˆ†åˆ«å­¦ä¹ æŸ¥è¯¢è¯­å¥å’Œæ¨¡å¼ã€‚

## Reference

[haizlin/fe-interview](https://github.com/haizlin/fe-interview/blob/master/category/history.md)

[hoppscotch/hoppscotch: ğŸ‘½ Open source API development ecosystem - https://hoppscotch.io](https://github.com/hoppscotch/hoppscotch)

[`<optgroup>` - HTMLï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ | MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/optgroup)

[transform - CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ | MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform)

[translate() - CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ | MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-function/translate)
